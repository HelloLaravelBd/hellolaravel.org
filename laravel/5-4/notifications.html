
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Notifications — Hello Laravel</title>
        <meta charset="utf-8">
        <meta name="description" content="Hello laravel - Now time for laravel , Bangla full documentation and laravel related tutorial and tips resource avaiable on hello laravel">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Notifications — hello-laravel">
        <meta property="og:description" content="Hello laravel - Now time for laravel , Bangla full documentation and laravel related tutorial and tips resource avaiable on hello laravel">
        <meta property="og:image" content="https://hellolaravel.org//images/title.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Notifications — hello-laravel">
        <meta name="twitter:description" content="Hello laravel - Now time for laravel , Bangla full documentation and laravel related tutorial and tips resource avaiable on hello laravel">
        <meta name="twitter:image" content="https://hellolaravel.org/images/logo.png">

        <link rel="icon" href="/images/title.png" type="image/x-icon">

        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">
        <link rel="stylesheet" href="../css/my-css/my-canvas.css">
        <link rel="stylesheet" href="../../css/my-css/my-awesome.css">
        <link rel="stylesheet" href="../css/my-css/single-post.css">
        <link rel="stylesheet" href="../../css/grid.css">
        <link rel="stylesheet" href="../../css/custom-bootstrap/list-group.css">
        <link rel="stylesheet" href="../css/custom-bootstrap/card.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
        <link href="../../css/my-css/cheatsheet.css" rel="stylesheet"></head>

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.js"></script>

        <script>window.PAGE_TYPE = "laravel 5.4"</script>



        <!-- ga -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-46852172-1', 'hellolaravel.org');
          ga('send', 'pageview');
        </script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/">
    <img src="/images/logog.gif">
    <span>@HelloLaravel</span>
  </a>
  <ul id="nav">
    <li>
 <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>

</li>
<li><a href="/laravel/5-5/" class="nav-link current">laravel </a></li>
<li><a href="/bangla/lara" class="nav-link">laravel Bangla</a></li>

<li><a href="/developer/" class="nav-link">Developer</a></li>


<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Version</a><span class="arrow"></span>
  <ul class="nav-dropdown">
      <li><a href="/laravel/5-5" class="nav-link" >5.5</a></li>
      <li><a href="/laravel/5-4" class="nav-link" >5.4</a></li>

    </ul>



</li>

<!-- <li class="nav-dropdown-container language">
  <a class="nav-link">Official</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://laravel.com/" class="nav-link" target="">Laravel</a></li>
    <li><a href="https://laracasts.com/" class="nav-link" target="_blank">Laracast</a></li>
    <li><a href="https://laravel-news.com/blog" class="nav-link" target="_blank">Laravel News</a></li>
    <li><a href="https://larajobs.com/#/" class="nav-link" target="_blank">Larajob</a></li>
      <li><a href="http://cheats.jesse-obrien.ca/" class="nav-link" target="_blank">Cheat Sheet</a></li>
  </ul>
</li> -->



<li>
  <a href="https://blog.hellolaravel.org" target="_blank" class="nav-link shop">Blog</a>
  <span class="new-label">NEW!</span>
</li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
 <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>

</li>
<li><a href="/laravel/5-5/" class="nav-link current">laravel </a></li>
<li><a href="/bangla/lara" class="nav-link">laravel Bangla</a></li>

<li><a href="/developer/" class="nav-link">Developer</a></li>


<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Version</a><span class="arrow"></span>
  <ul class="nav-dropdown">
      <li><a href="/laravel/5-5" class="nav-link" >5.5</a></li>
      <li><a href="/laravel/5-4" class="nav-link" >5.4</a></li>

    </ul>



</li>

<!-- <li class="nav-dropdown-container language">
  <a class="nav-link">Official</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://laravel.com/" class="nav-link" target="">Laravel</a></li>
    <li><a href="https://laracasts.com/" class="nav-link" target="_blank">Laracast</a></li>
    <li><a href="https://laravel-news.com/blog" class="nav-link" target="_blank">Laravel News</a></li>
    <li><a href="https://larajobs.com/#/" class="nav-link" target="_blank">Larajob</a></li>
      <li><a href="http://cheats.jesse-obrien.ca/" class="nav-link" target="_blank">Cheat Sheet</a></li>
  </ul>
</li> -->



<li>
  <a href="https://blog.hellolaravel.org" target="_blank" class="nav-link shop">Blog</a>
  <span class="new-label">NEW!</span>
</li>

    </ul>
    <div class="list">
        <div class="main-sponsor">
            <span>Platinum Sponsor</span><br>
            <a href="http://themezero.net" target="_blank" class="logo">
                <img src="/images/stdlib.png">
            </a>
        </div>
        <a class="become-backer" href="http://themezero.net" target="_blank">
            Template & Theme
        </a>
        <h2>
                Laravel 5.4

            </h2>
        <hr>
        <ul class="menu-root">
            
                
                
                
                    
                      <li><h3>Awesome Laravel</h3></li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/index.html" class="sidebar-link">Awesome Laravel (Chirag Gude)</a>
                </li>
            
                
                
                
                    
                    
                      <li><h3>Prologue</h3></li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/releases.html" class="sidebar-link">Release Notes</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/upgrade.html" class="sidebar-link">Upgrade Guide</a>
                </li>
            
                
                
                
                    
                    
                    
                      <li><h3>Getting Started</h3></li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/installation.html" class="sidebar-link">Installation</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/configuration.html" class="sidebar-link">Configuration</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/structure.html" class="sidebar-link">Directory Structure</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/homestead.html" class="sidebar-link">Laravel Homestead</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/valet.html" class="sidebar-link">valet</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                      <li><h3>Architecture Concepts</h3></li>
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/lifecycle.html" class="sidebar-link">Request Lifecycle</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/container.html" class="sidebar-link">Service Container</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/providers.html" class="sidebar-link">Service Providers</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/facades.html" class="sidebar-link">Facades</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                      <li><h3>The Basics</h3></li>
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/routing.html" class="sidebar-link">Routing</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/errors.html" class="sidebar-link">Errors & Logging</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/middleware.html" class="sidebar-link">Middleware</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/csrf.html" class="sidebar-link">CSRF Protection</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/controllers.html" class="sidebar-link">Controllers</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/requests.html" class="sidebar-link">HTTP Requests</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/responses.html" class="sidebar-link">HTTP Responses</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/views.html" class="sidebar-link">Views</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/session.html" class="sidebar-link">HTTP Session</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/validation.html" class="sidebar-link">Validation</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                      <li><h3>Frontend</h3></li>
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/blade.html" class="sidebar-link">Blade Templates</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/localization.html" class="sidebar-link">Localization</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/frontend.html" class="sidebar-link">JavaScript & CSS Scaffolding</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/mix.html" class="sidebar-link">Compiling Assets (Laravel Mix)</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Security</h3></li>
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/authentication.html" class="sidebar-link">Authentication</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/passport.html" class="sidebar-link">API Authentication (Passport)</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/authorization.html" class="sidebar-link">Authorization</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/encryption.html" class="sidebar-link">Encryption</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/hashing.html" class="sidebar-link">Hashing</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/passwords.html" class="sidebar-link">Resetting Passwords</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Digging Deeper</h3></li>
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/artisan.html" class="sidebar-link">Artisan Console</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/queues.html" class="sidebar-link">Queues</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/scheduling.html" class="sidebar-link">Task Scheduling</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/packages.html" class="sidebar-link">Package Development</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/broadcasting.html" class="sidebar-link">Broadcasting</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/cache.html" class="sidebar-link">Cache</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/collections.html" class="sidebar-link">Collections</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/events.html" class="sidebar-link">Events</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/filesystem.html" class="sidebar-link">File Storage</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/helpers.html" class="sidebar-link">helpers</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/mail.html" class="sidebar-link">Mail</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/notifications.html" class="sidebar-link current">Notifications</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Database</h3></li>
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/database.html" class="sidebar-link">Database Getting Started</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/queries.html" class="sidebar-link">Database Query Builder</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/pagination.html" class="sidebar-link">Database Pagination</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/migrations.html" class="sidebar-link">Database Migrations</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/seeding.html" class="sidebar-link">Database Seeding</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/redis.html" class="sidebar-link">Redis</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Eloquent ORM</h3></li>
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/eloquent.html" class="sidebar-link">Eloquent Getting Started</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/eloquent-relationships.html" class="sidebar-link">Eloquent Relationships</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/eloquent-collections.html" class="sidebar-link">Eloquent Collections</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/eloquent-mutators.html" class="sidebar-link">Eloquent Mutators</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/eloquent-serialization.html" class="sidebar-link">Eloquent Serialization</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Testing</h3></li>
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/testing.html" class="sidebar-link">Testing Getting Started</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/http-tests.html" class="sidebar-link">HTTP Tests</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/dusk.html" class="sidebar-link">Browser Tests (Laravel Dusk)</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/database-testing.html" class="sidebar-link">Database Testing</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/mocking.html" class="sidebar-link">Mocking</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/redirects.html" class="sidebar-link">redirect</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                      <li><h3>Official Packages</h3></li>
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/billing.html" class="sidebar-link">Laravel Cashier</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/envoy.html" class="sidebar-link">Envoy Task Runner</a>
                </li>
            
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    

                    <!-- Move cookbook sections here once they have -->
                    <!-- at least one recipe -->
                
                <li>
                    <a href="/laravel/5-4/scout.html" class="sidebar-link">Laravel Scout</a>
                </li>
            
            
        </ul>
    </div>
</div>


<div class="content laravel 5.4 with-sidebar ">
    
      

    
    
      <h1>Notifications</h1>
    
    <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In addition to support for <a href="/mk/laravel/mail.html">sending email</a>, Laravel provides support for sending notifications across a variety of delivery channels, including mail, SMS (via <a href="https://www.nexmo.com/" target="_blank" rel="external">Nexmo</a>), and <a href="https://slack.com" target="_blank" rel="external">Slack</a>. Notifications may also be stored in a database so they may be displayed in your web interface.</p>
<p>Typically, notifications should be short, informational messages that notify users of something that occurred in your application. For example, if you are writing a billing application, you might send an “Invoice Paid” notification to your users via the email and SMS channels.</p>
<p><a name="creating-notifications"></a></p>
<h2 id="Creating-Notifications"><a href="#Creating-Notifications" class="headerlink" title="Creating Notifications"></a>Creating Notifications</h2><p>In Laravel, each notification is represented by a single class (typically stored in the <code>app/Notifications</code> directory). Don’t worry if you don’t see this directory in your application, it will be created for you when you run the <code>make:notification</code> Artisan command:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">php artisan make:notification InvoicePaid</div></pre></td></tr></table></figure></p>
<p>This command will place a fresh notification class in your <code>app/Notifications</code> directory. Each notification class contains a <code>via</code> method and a variable number of message building methods (such as <code>toMail</code> or <code>toDatabase</code>) that convert the notification to a message optimized for that particular channel.</p>
<p><a name="sending-notifications"></a></p>
<h2 id="Sending-Notifications"><a href="#Sending-Notifications" class="headerlink" title="Sending Notifications"></a>Sending Notifications</h2><p><a name="using-the-notifiable-trait"></a></p>
<h3 id="Using-The-Notifiable-Trait"><a href="#Using-The-Notifiable-Trait" class="headerlink" title="Using The Notifiable Trait"></a>Using The Notifiable Trait</h3><p>Notifications may be sent in two ways: using the <code>notify</code> method of the <code>Notifiable</code> trait or using the <code>Notification</code> <a href="/mk/laravel/facades.html">facade</a>. First, let’s explore using the trait:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>This trait is utilized by the default <code>App\User</code> model and contains one method that may be used to send notifications: <code>notify</code>. The <code>notify</code> method expects to receive a notification instance:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Notifications</span>\<span class="title">InvoicePaid</span>;</div><div class="line"></div><div class="line">$user-&gt;notify(<span class="keyword">new</span> InvoicePaid($invoice));</div></pre></td></tr></table></figure></p>
<blockquote>
<p>{tip} Remember, you may use the <code>Illuminate\Notifications\Notifiable</code> trait on any of your models. You are not limited to only including it on your <code>User</code> model.</p>
</blockquote>
<p><a name="using-the-notification-facade"></a></p>
<h3 id="Using-The-Notification-Facade"><a href="#Using-The-Notification-Facade" class="headerlink" title="Using The Notification Facade"></a>Using The Notification Facade</h3><p>Alternatively, you may send notifications via the <code>Notification</code> <a href="/mk/laravel/facades.html">facade</a>. This is useful primarily when you need to send a notification to multiple notifiable entities such as a collection of users. To send notifications using the facade, pass all of the notifiable entities and the notification instance to the <code>send</code> method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">Notification::send($users, <span class="keyword">new</span> InvoicePaid($invoice));</div></pre></td></tr></table></figure></p>
<p><a name="specifying-delivery-channels"></a></p>
<h3 id="Specifying-Delivery-Channels"><a href="#Specifying-Delivery-Channels" class="headerlink" title="Specifying Delivery Channels"></a>Specifying Delivery Channels</h3><p>Every notification class has a <code>via</code> method that determines on which channels the notification will be delivered. Out of the box, notifications may be sent on the <code>mail</code>, <code>database</code>, <code>broadcast</code>, <code>nexmo</code>, and <code>slack</code> channels.</p>
<blockquote>
<p>{tip} If you would like to use other delivery channels such as Telegram or Pusher, check out the community driven <a href="http://laravel-notification-channels.com" target="_blank" rel="external">Laravel Notification Channels website</a>.</p>
</blockquote>
<p>The <code>via</code> method receives a <code>$notifiable</code> instance, which will be an instance of the class to which the notification is being sent. You may use <code>$notifiable</code> to determine which channels the notification should be delivered on:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the notification's delivery channels.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> array</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> $notifiable-&gt;prefers_sms ? [<span class="string">'nexmo'</span>] : [<span class="string">'mail'</span>, <span class="string">'database'</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="queueing-notifications"></a></p>
<h3 id="Queueing-Notifications"><a href="#Queueing-Notifications" class="headerlink" title="Queueing Notifications"></a>Queueing Notifications</h3><blockquote>
<p>{note} Before queueing notifications you should configure your queue and <a href="/mk/laravel/queues.html">start a worker</a>.</p>
</blockquote>
<p>Sending notifications can take time, especially if the channel needs an external API call to deliver the notification. To speed up your application’s response time, let your notification be queued by adding the <code>ShouldQueue</code> interface and <code>Queueable</code> trait to your class. The interface and trait are already imported for all notifications generated using <code>make:notification</code>, so you may immediately add them to your notification class:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Notifications</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Bus</span>\<span class="title">Queueable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notification</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Contracts</span>\<span class="title">Queue</span>\<span class="title">ShouldQueue</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvoicePaid</span> <span class="keyword">extends</span> <span class="title">Notification</span> <span class="keyword">implements</span> <span class="title">ShouldQueue</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Queueable</span>;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Once the <code>ShouldQueue</code> interface has been added to your notification, you may send the notification like normal. Laravel will detect the <code>ShouldQueue</code> interface on the class and automatically queue the delivery of the notification:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">    $user-&gt;notify(<span class="keyword">new</span> InvoicePaid($invoice));</div><div class="line"></div><div class="line"><span class="keyword">If</span> you would like to delay the delivery of the notification, you may chain the `delay` method onto your notification instantiation:</div><div class="line"></div><div class="line">    $when = Carbon::now()-&gt;addMinutes(<span class="number">10</span>);</div><div class="line"></div><div class="line">    $user-&gt;notify((<span class="keyword">new</span> InvoicePaid($invoice))-&gt;delay($when));</div></pre></td></tr></table></figure></p>
<p><a name="mail-notifications"></a></p>
<h2 id="Mail-Notifications"><a href="#Mail-Notifications" class="headerlink" title="Mail Notifications"></a>Mail Notifications</h2><p><a name="formatting-mail-messages"></a></p>
<h3 id="Formatting-Mail-Messages"><a href="#Formatting-Mail-Messages" class="headerlink" title="Formatting Mail Messages"></a>Formatting Mail Messages</h3><p>If a notification supports being sent as an email, you should define a <code>toMail</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a <code>Illuminate\Notifications\Messages\MailMessage</code> instance. Mail messages may contain lines of text as well as a “call to action”. Let’s take a look at an example <code>toMail</code> method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> \Illuminate\Notifications\Messages\MailMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    $url = url(<span class="string">'/invoice/'</span>.<span class="keyword">$this</span>-&gt;invoice-&gt;id);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)</div><div class="line">                -&gt;greeting(<span class="string">'Hello!'</span>)</div><div class="line">                -&gt;line(<span class="string">'One of your invoices has been paid!'</span>)</div><div class="line">                -&gt;action(<span class="string">'View Invoice'</span>, $url)</div><div class="line">                -&gt;line(<span class="string">'Thank you for using our application!'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>{tip} Note we are using <code>$this-&gt;invoice-&gt;id</code> in our <code>message</code> method. You may pass any data your notification needs to generate its message into the notification’s constructor.</p>
</blockquote>
<p>In this example, we register a greeting, a line of text, a call to action, and then another line of text. These methods provided by the <code>MailMessage</code> object make it simple and fast to format small transactional emails. The mail channel will then translate the message components into a nice, responsive HTML email template with a plain-text counterpart. Here is an example of an email generated by the <code>mail</code> channel:</p>
<p><img src="https://laravel.com/assets/img/notification-example.png" width="551" height="596"></p>
<blockquote>
<p>{tip} When sending mail notifications, be sure to set the <code>name</code> value in your <code>config/app.php</code> configuration file. This value will be used in the header and footer of your mail notification messages.</p>
</blockquote>
<h4 id="Other-Notification-Formatting-Options"><a href="#Other-Notification-Formatting-Options" class="headerlink" title="Other Notification Formatting Options"></a>Other Notification Formatting Options</h4><p>Instead of defining the “lines” of text in the notification class, you may use the <code>view</code> method to specify a custom template that should be used to render the notification email:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> \Illuminate\Notifications\Messages\MailMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)-&gt;view(</div><div class="line">        <span class="string">'emails.name'</span>, [<span class="string">'invoice'</span> =&gt; <span class="keyword">$this</span>-&gt;invoice]</div><div class="line">    );</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>In addition, you may return a <a href="/mk/laravel/mail.html">mailable object</a> from the <code>toMail</code> method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Mail</span>\<span class="title">InvoicePaid</span> <span class="title">as</span> <span class="title">Mailable</span>;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> Mailable</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> Mailable(<span class="keyword">$this</span>-&gt;invoice))-&gt;to(<span class="keyword">$this</span>-&gt;user-&gt;email);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="error-messages"></a></p>
<h4 id="Error-Messages"><a href="#Error-Messages" class="headerlink" title="Error Messages"></a>Error Messages</h4><p>Some notifications inform users of errors, such as a failed invoice payment. You may indicate that a mail message is regarding an error by calling the <code>error</code> method when building your message. When using the <code>error</code> method on a mail message, the call to action button will be red instead of blue:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> \Illuminate\Notifications\Message</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)</div><div class="line">                -&gt;error()</div><div class="line">                -&gt;subject(<span class="string">'Notification Subject'</span>)</div><div class="line">                -&gt;line(<span class="string">'...'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="customizing-the-recipient"></a></p>
<h3 id="Customizing-The-Recipient"><a href="#Customizing-The-Recipient" class="headerlink" title="Customizing The Recipient"></a>Customizing The Recipient</h3><p>When sending notifications via the <code>mail</code> channel, the notification system will automatically look for an <code>email</code> property on your notifiable entity. You may customize which email address is used to deliver the notification by defining a <code>routeNotificationForMail</code> method on the entity:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Route notifications for the mail channel.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> string</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">routeNotificationForMail</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;email_address;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="customizing-the-subject"></a></p>
<h3 id="Customizing-The-Subject"><a href="#Customizing-The-Subject" class="headerlink" title="Customizing The Subject"></a>Customizing The Subject</h3><p>By default, the email’s subject is the class name of the notification formatted to “title case”. So, if your notification class is named <code>InvoicePaid</code>, the email’s subject will be <code>Invoice Paid</code>. If you would like to specify an explicit subject for the message, you may call the <code>subject</code> method when building your message:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> \Illuminate\Notifications\Messages\MailMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)</div><div class="line">                -&gt;subject(<span class="string">'Notification Subject'</span>)</div><div class="line">                -&gt;line(<span class="string">'...'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="customizing-the-templates"></a></p>
<h3 id="Customizing-The-Templates"><a href="#Customizing-The-Templates" class="headerlink" title="Customizing The Templates"></a>Customizing The Templates</h3><p>You can modify the HTML and plain-text template used by mail notifications by publishing the notification package’s resources. After running this command, the mail notification templates will be located in the <code>resources/views/vendor/notifications</code> directory:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">php artisan vendor:publish --tag=laravel-notifications</div></pre></td></tr></table></figure></p>
<p><a name="markdown-mail-notifications"></a></p>
<h2 id="Markdown-Mail-Notifications"><a href="#Markdown-Mail-Notifications" class="headerlink" title="Markdown Mail Notifications"></a>Markdown Mail Notifications</h2><p>Markdown mail notifications allow you to take advantage of the pre-built templates of mail notifications, while giving you more freedom to write longer, customized messages. Since the messages are written in Markdown, Laravel is able to render beautiful, responsive HTML templates for the messages while also automatically generating a plain-text counterpart.</p>
<p><a name="generating-the-message"></a></p>
<h3 id="Generating-The-Message"><a href="#Generating-The-Message" class="headerlink" title="Generating The Message"></a>Generating The Message</h3><p>To generate a notification with a corresponding Markdown template, you may use the <code>--markdown</code> option of the <code>make:notification</code> Artisan command:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">php artisan make:notification InvoicePaid --markdown=mail.invoice.paid</div></pre></td></tr></table></figure></p>
<p>Like all other mail notifications, notifications that use Markdown templates should define a <code>toMail</code> method on their notification class. However, instead of using the <code>line</code> and <code>action</code> methods to construct the notification, use the <code>markdown</code> method to specify the name of the Markdown template that should be used:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the mail representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> \Illuminate\Notifications\Messages\MailMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toMail</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    $url = url(<span class="string">'/invoice/'</span>.<span class="keyword">$this</span>-&gt;invoice-&gt;id);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> MailMessage)</div><div class="line">                -&gt;subject(<span class="string">'Invoice Paid'</span>)</div><div class="line">                -&gt;markdown(<span class="string">'mail.invoice.paid'</span>, [<span class="string">'url'</span> =&gt; $url]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="writing-the-message"></a></p>
<h3 id="Writing-The-Message"><a href="#Writing-The-Message" class="headerlink" title="Writing The Message"></a>Writing The Message</h3><p>Markdown mail notifications use a combination of Blade components and Markdown syntax which allow you to easily construct notifications while leveraging Laravel’s pre-crafted notification components:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">@component(<span class="string">'mail::message'</span>)</div><div class="line"><span class="comment"># Invoice Paid</span></div><div class="line"></div><div class="line">Your invoice has been paid!</div><div class="line"></div><div class="line">@component(<span class="string">'mail::button'</span>, [<span class="string">'url'</span> =&gt; $url])</div><div class="line">View Invoice</div><div class="line">@endcomponent</div><div class="line"></div><div class="line">Thanks,&lt;br&gt;</div><div class="line">&#123;&#123; config(<span class="string">'app.name'</span>) &#125;&#125;</div><div class="line">@endcomponent</div></pre></td></tr></table></figure></p>
<h4 id="Button-Component"><a href="#Button-Component" class="headerlink" title="Button Component"></a>Button Component</h4><p>The button component renders a centered button link. The component accepts two arguments, a <code>url</code> and an optional <code>color</code>. Supported colors are <code>blue</code>, <code>green</code>, and <code>red</code>. You may add as many button components to a notification as you wish:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">@component(<span class="string">'mail::button'</span>, [<span class="string">'url'</span> =&gt; $url, <span class="string">'color'</span> =&gt; <span class="string">'green'</span>])</div><div class="line">View Invoice</div><div class="line">@endcomponent</div></pre></td></tr></table></figure></p>
<h4 id="Panel-Component"><a href="#Panel-Component" class="headerlink" title="Panel Component"></a>Panel Component</h4><p>The panel component renders the given block of text in a panel that has a slightly different background color than the rest of the notification. This allows you to draw attention to a given block of text:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">@component(<span class="string">'mail::panel'</span>)</div><div class="line">This is the panel content.</div><div class="line">@endcomponent</div></pre></td></tr></table></figure></p>
<h4 id="Table-Component"><a href="#Table-Component" class="headerlink" title="Table Component"></a>Table Component</h4><p>The table component allows you to transform a Markdown table into an HTML table. The component accepts the Markdown table as its content. Table column alignment is supported using the default Markdown table alignment syntax:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">@component(<span class="string">'mail::table'</span>)</div><div class="line">| Laravel       | Table         | Example  |</div><div class="line">| ------------- |:-------------:| --------:|</div><div class="line">| Col <span class="number">2</span> is      | Centered      | $<span class="number">10</span>      |</div><div class="line">| Col <span class="number">3</span> is      | Right-Aligned | $<span class="number">20</span>      |</div><div class="line">@endcomponent</div></pre></td></tr></table></figure></p>
<p><a name="customizing-the-components"></a></p>
<h3 id="Customizing-The-Components"><a href="#Customizing-The-Components" class="headerlink" title="Customizing The Components"></a>Customizing The Components</h3><p>You may export all of the Markdown notification components to your own application for customization. To export the components, use the <code>vendor:publish</code> Artisan command to publish the <code>laravel-mail</code> asset tag:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">php artisan vendor:publish --tag=laravel-mail</div></pre></td></tr></table></figure></p>
<p>This command will publish the Markdown mail components to the <code>resources/views/vendor/mail</code> directory. The <code>mail</code> directory will contain a <code>html</code> and a <code>markdown</code> directory, each containing their respective representations of every available component. You are free to customize these components however you like.</p>
<h4 id="Customizing-The-CSS"><a href="#Customizing-The-CSS" class="headerlink" title="Customizing The CSS"></a>Customizing The CSS</h4><p>After exporting the components, the <code>resources/views/vendor/mail/html/themes</code> directory will contain a <code>default.css</code> file. You may customize the CSS in this file and your styles will automatically be in-lined within the HTML representations of your Markdown notifications.</p>
<blockquote>
<p>{tip} If you would like to build an entirely new theme for the Markdown components, simply write a new CSS file within the <code>html/themes</code> directory and change the <code>theme</code> option of your <code>mail</code> configuration file.</p>
</blockquote>
<p><a name="database-notifications"></a></p>
<h2 id="Database-Notifications"><a href="#Database-Notifications" class="headerlink" title="Database Notifications"></a>Database Notifications</h2><p><a name="database-prerequisites"></a></p>
<h3 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>The <code>database</code> notification channel stores the notification information in a database table. This table will contain information such as the notification type as well as custom JSON data that describes the notification.</p>
<p>You can query the table to display the notifications in your application’s user interface. But, before you can do that, you will need to create a database table to hold your notifications. You may use the <code>notifications:table</code> command to generate a migration with the proper table schema:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">php artisan notifications:table</div><div class="line"></div><div class="line">php artisan migrate</div></pre></td></tr></table></figure></p>
<p><a name="formatting-database-notifications"></a></p>
<h3 id="Formatting-Database-Notifications"><a href="#Formatting-Database-Notifications" class="headerlink" title="Formatting Database Notifications"></a>Formatting Database Notifications</h3><p>If a notification supports being stored in a database table, you should define a <code>toDatabase</code> or <code>toArray</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a plain PHP array. The returned array will be encoded as JSON and stored in the <code>data</code> column of your <code>notifications</code> table. Let’s take a look at an example <code>toArray</code> method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the array representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> array</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toArray</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [</div><div class="line">        <span class="string">'invoice_id'</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;id,</div><div class="line">        <span class="string">'amount'</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;amount,</div><div class="line">    ];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="toDatabase-Vs-toArray"><a href="#toDatabase-Vs-toArray" class="headerlink" title="toDatabase Vs. toArray"></a><code>toDatabase</code> Vs. <code>toArray</code></h4><p>The <code>toArray</code> method is also used by the <code>broadcast</code> channel to determine which data to broadcast to your JavaScript client. If you would like to have two different array representations for the <code>database</code> and <code>broadcast</code> channels, you should define a <code>toDatabase</code> method instead of a <code>toArray</code> method.</p>
<p><a name="accessing-the-notifications"></a></p>
<h3 id="Accessing-The-Notifications"><a href="#Accessing-The-Notifications" class="headerlink" title="Accessing The Notifications"></a>Accessing The Notifications</h3><p>Once notifications are stored in the database, you need a convenient way to access them from your notifiable entities. The <code>Illuminate\Notifications\Notifiable</code> trait, which is included on Laravel’s default <code>App\User</code> model, includes a <code>notifications</code> Eloquent relationship that returns the notifications for the entity. To fetch notifications, you may access this method like any other Eloquent relationship. By default, notifications will be sorted by the <code>created_at</code> timestamp:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user = App\User::find(<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span> ($user-&gt;notifications <span class="keyword">as</span> $notification) &#123;</div><div class="line">    <span class="keyword">echo</span> $notification-&gt;type;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>If you want to retrieve only the “unread” notifications, you may use the <code>unreadNotifications</code> relationship. Again, these notifications will be sorted by the <code>created_at</code> timestamp:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user = App\User::find(<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span> ($user-&gt;unreadNotifications <span class="keyword">as</span> $notification) &#123;</div><div class="line">    <span class="keyword">echo</span> $notification-&gt;type;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>{tip} To access your notifications from your JavaScript client, you should define a notification controller for your application which returns the notifications for a notifiable entity, such as the current user. You may then make an HTTP request to that controller’s URI from your JavaScript client.</p>
</blockquote>
<p><a name="marking-notifications-as-read"></a></p>
<h3 id="Marking-Notifications-As-Read"><a href="#Marking-Notifications-As-Read" class="headerlink" title="Marking Notifications As Read"></a>Marking Notifications As Read</h3><p>Typically, you will want to mark a notification as “read” when a user views it. The <code>Illuminate\Notifications\Notifiable</code> trait provides a <code>markAsRead</code> method, which updates the <code>read_at</code> column on the notification’s database record:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user = App\User::find(<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span> ($user-&gt;unreadNotifications <span class="keyword">as</span> $notification) &#123;</div><div class="line">    $notification-&gt;markAsRead();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>However, instead of looping through each notification, you may use the <code>markAsRead</code> method directly on a collection of notifications:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user-&gt;unreadNotifications-&gt;markAsRead();</div></pre></td></tr></table></figure></p>
<p>You may also use a mass-update query to mark all of the notifications as read without retrieving them from the database:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user = App\User::find(<span class="number">1</span>);</div><div class="line"></div><div class="line">$user-&gt;unreadNotifications()-&gt;update([<span class="string">'read_at'</span> =&gt; Carbon::now()]);</div></pre></td></tr></table></figure></p>
<p>Of course, you may <code>delete</code> the notifications to remove them from the table entirely:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$user-&gt;notifications()-&gt;delete();</div></pre></td></tr></table></figure></p>
<p><a name="broadcast-notifications"></a></p>
<h2 id="Broadcast-Notifications"><a href="#Broadcast-Notifications" class="headerlink" title="Broadcast Notifications"></a>Broadcast Notifications</h2><p><a name="broadcast-prerequisites"></a></p>
<h3 id="Prerequisites-1"><a href="#Prerequisites-1" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>Before broadcasting notifications, you should configure and be familiar with Laravel’s <a href="/mk/laravel/broadcasting.html">event broadcasting</a> services. Event broadcasting provides a way to react to server-side fired Laravel events from your JavaScript client.</p>
<p><a name="formatting-broadcast-notifications"></a></p>
<h3 id="Formatting-Broadcast-Notifications"><a href="#Formatting-Broadcast-Notifications" class="headerlink" title="Formatting Broadcast Notifications"></a>Formatting Broadcast Notifications</h3><p>The <code>broadcast</code> channel broadcasts notifications using Laravel’s <a href="/mk/laravel/broadcasting.html">event broadcasting</a> services, allowing your JavaScript client to catch notifications in realtime. If a notification supports broadcasting, you should define a <code>toBroadcast</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a <code>BroadcastMessage</code> instance. The returned data will be encoded as JSON and broadcast to your JavaScript client. Let’s take a look at an example <code>toBroadcast</code> method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Messages</span>\<span class="title">BroadcastMessage</span>;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the broadcastable representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> BroadcastMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toBroadcast</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> BroadcastMessage([</div><div class="line">        <span class="string">'invoice_id'</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;id,</div><div class="line">        <span class="string">'amount'</span> =&gt; <span class="keyword">$this</span>-&gt;invoice-&gt;amount,</div><div class="line">    ]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="Broadcast-Queue-Configuration"><a href="#Broadcast-Queue-Configuration" class="headerlink" title="Broadcast Queue Configuration"></a>Broadcast Queue Configuration</h4><p>All broadcast notifications are queued for broadcasting. If you would like to configure the queue connection or queue name that is used to the queue the broadcast operation, you may use the <code>onConnection</code> and <code>onQueue</code> methods of the <code>BroadcastMessage</code>:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="keyword">return</span> (<span class="keyword">new</span> BroadcastMessage($data))</div><div class="line">                -&gt;onConnection(<span class="string">'sqs'</span>)</div><div class="line">                -&gt;onQueue(<span class="string">'broadcasts'</span>);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>{tip} In addition to the data you specify, broadcast notifications will also contain a <code>type</code> field containing the class name of the notification.</p>
</blockquote>
<p><a name="listening-for-notifications"></a></p>
<h3 id="Listening-For-Notifications"><a href="#Listening-For-Notifications" class="headerlink" title="Listening For Notifications"></a>Listening For Notifications</h3><p>Notifications will broadcast on a private channel formatted using a <code>{notifiable}.{id}</code> convention. So, if you are sending a notification to a <code>App\User</code> instance with an ID of <code>1</code>, the notification will be broadcast on the <code>App.User.1</code> private channel. When using <a href="/mk/laravel/broadcasting.html">Laravel Echo</a>, you may easily listen for notifications on a channel using the <code>notification</code> helper method:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="keyword">Echo</span>.<span class="keyword">private</span>(<span class="string">'App.User.'</span> + userId)</div><div class="line">    .notification((notification) =&gt; &#123;</div><div class="line">        console.log(notification.type);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<h4 id="Customizing-The-Notification-Channel"><a href="#Customizing-The-Notification-Channel" class="headerlink" title="Customizing The Notification Channel"></a>Customizing The Notification Channel</h4><p>If you would like to customize which channels a notifiable entity receives its broadcast notifications on, you may define a <code>receivesBroadcastNotificationsOn</code> method on the notifiable entity:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Broadcasting</span>\<span class="title">PrivateChannel</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * The channels the user receives notification broadcasts on.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> array</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">receivesBroadcastNotificationsOn</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> [</div><div class="line">            <span class="keyword">new</span> PrivateChannel(<span class="string">'users.'</span>.<span class="keyword">$this</span>-&gt;id),</div><div class="line">        ];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="sms-notifications"></a></p>
<h2 id="SMS-Notifications"><a href="#SMS-Notifications" class="headerlink" title="SMS Notifications"></a>SMS Notifications</h2><p><a name="sms-prerequisites"></a></p>
<h3 id="Prerequisites-2"><a href="#Prerequisites-2" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>Sending SMS notifications in Laravel is powered by <a href="https://www.nexmo.com/" target="_blank" rel="external">Nexmo</a>. Before you can send notifications via Nexmo, you need to install the <code>nexmo/client</code> Composer package and add a few configuration options to your <code>config/services.php</code> configuration file. You may copy the example configuration below to get started:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="string">'nexmo'</span> =&gt; [</div><div class="line">    <span class="string">'key'</span> =&gt; env(<span class="string">'NEXMO_KEY'</span>),</div><div class="line">    <span class="string">'secret'</span> =&gt; env(<span class="string">'NEXMO_SECRET'</span>),</div><div class="line">    <span class="string">'sms_from'</span> =&gt; <span class="string">'15556666666'</span>,</div><div class="line">],</div></pre></td></tr></table></figure></p>
<p>The <code>sms_from</code> option is the phone number that your SMS messages will be sent from. You should generate a phone number for your application in the Nexmo control panel.</p>
<p><a name="formatting-sms-notifications"></a></p>
<h3 id="Formatting-SMS-Notifications"><a href="#Formatting-SMS-Notifications" class="headerlink" title="Formatting SMS Notifications"></a>Formatting SMS Notifications</h3><p>If a notification supports being sent as a SMS, you should define a <code>toNexmo</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a <code>Illuminate\Notifications\Messages\NexmoMessage</code> instance:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Nexmo / SMS representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> NexmoMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toNexmo</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> NexmoMessage)</div><div class="line">                -&gt;content(<span class="string">'Your SMS message content'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="Unicode-Content"><a href="#Unicode-Content" class="headerlink" title="Unicode Content"></a>Unicode Content</h4><p>If your SMS message will contain unicode characters, you should call the <code>unicode</code> method when constructing the <code>NexmoMessage</code> instance:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Nexmo / SMS representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> NexmoMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toNexmo</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> NexmoMessage)</div><div class="line">                -&gt;content(<span class="string">'Your unicode message'</span>)</div><div class="line">                -&gt;unicode();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="customizing-the-from-number"></a></p>
<h3 id="Customizing-The-“From”-Number"><a href="#Customizing-The-“From”-Number" class="headerlink" title="Customizing The “From” Number"></a>Customizing The “From” Number</h3><p>If you would like to send some notifications from a phone number that is different from the phone number specified in your <code>config/services.php</code> file, you may use the <code>from</code> method on a <code>NexmoMessage</code> instance:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Nexmo / SMS representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> NexmoMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toNexmo</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> NexmoMessage)</div><div class="line">                -&gt;content(<span class="string">'Your SMS message content'</span>)</div><div class="line">                -&gt;from(<span class="string">'15554443333'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="routing-sms-notifications"></a></p>
<h3 id="Routing-SMS-Notifications"><a href="#Routing-SMS-Notifications" class="headerlink" title="Routing SMS Notifications"></a>Routing SMS Notifications</h3><p>When sending notifications via the <code>nexmo</code> channel, the notification system will automatically look for a <code>phone_number</code> attribute on the notifiable entity. If you would like to customize the phone number the notification is delivered to, define a <code>routeNotificationForNexmo</code> method on the entity:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Route notifications for the Nexmo channel.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> string</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">routeNotificationForNexmo</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;phone;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="slack-notifications"></a></p>
<h2 id="Slack-Notifications"><a href="#Slack-Notifications" class="headerlink" title="Slack Notifications"></a>Slack Notifications</h2><p><a name="slack-prerequisites"></a></p>
<h3 id="Prerequisites-3"><a href="#Prerequisites-3" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>Before you can send notifications via Slack, you must install the Guzzle HTTP library via Composer:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">composer <span class="keyword">require</span> guzzlehttp/guzzle</div></pre></td></tr></table></figure></p>
<p>You will also need to configure an “Incoming Webhook” integration for your Slack team. This integration will provide you with a URL you may use when <a href="#routing-slack-notifications">routing Slack notifications</a>.</p>
<p><a name="formatting-slack-notifications"></a></p>
<h3 id="Formatting-Slack-Notifications"><a href="#Formatting-Slack-Notifications" class="headerlink" title="Formatting Slack Notifications"></a>Formatting Slack Notifications</h3><p>If a notification supports being sent as a Slack message, you should define a <code>toSlack</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a <code>Illuminate\Notifications\Messages\SlackMessage</code> instance. Slack messages may contain text content as well as an “attachment” that formats additional text or an array of fields. Let’s take a look at a basic <code>toSlack</code> example:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;content(<span class="string">'One of your invoices has been paid!'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>In this example we are just sending a single line of text to Slack, which will create a message that looks like the following:</p>
<p><img src="https://laravel.com/assets/img/basic-slack-notification.png"></p>
<h4 id="Customizing-The-Sender-amp-Recipient"><a href="#Customizing-The-Sender-amp-Recipient" class="headerlink" title="Customizing The Sender &amp; Recipient"></a>Customizing The Sender &amp; Recipient</h4><p>You may use the <code>from</code> and <code>to</code> methods to customize the sender and recipient. The <code>from</code> method accepts a username and emoji identifier, while the <code>to</code> method accepts a channel or username:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;from(<span class="string">'Ghost'</span>, <span class="string">':ghost:'</span>)</div><div class="line">                -&gt;to(<span class="string">'#other'</span>)</div><div class="line">                -&gt;content(<span class="string">'This will be sent to #other'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>You may also use an image as your logo instead of an emoji:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;from(<span class="string">'Laravel'</span>)</div><div class="line">                -&gt;image(<span class="string">'https://laravel.com/favicon.png'</span>)</div><div class="line">                -&gt;content(<span class="string">'This will display the Laravel logo next to the message'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="slack-attachments"></a></p>
<h3 id="Slack-Attachments"><a href="#Slack-Attachments" class="headerlink" title="Slack Attachments"></a>Slack Attachments</h3><p>You may also add “attachments” to Slack messages. Attachments provide richer formatting options than simple text messages. In this example, we will send an error notification about an exception that occurred in an application, including a link to view more details about the exception:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    $url = url(<span class="string">'/exceptions/'</span>.<span class="keyword">$this</span>-&gt;exception-&gt;id);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;error()</div><div class="line">                -&gt;content(<span class="string">'Whoops! Something went wrong.'</span>)</div><div class="line">                -&gt;attachment(<span class="function"><span class="keyword">function</span> <span class="params">($attachment)</span> <span class="title">use</span> <span class="params">($url)</span> </span>&#123;</div><div class="line">                    $attachment-&gt;title(<span class="string">'Exception: File Not Found'</span>, $url)</div><div class="line">                               -&gt;content(<span class="string">'File [background.jpg] was not found.'</span>);</div><div class="line">                &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The example above will generate a Slack message that looks like the following:</p>
<p><img src="https://laravel.com/assets/img/basic-slack-attachment.png"></p>
<p>Attachments also allow you to specify an array of data that should be presented to the user. The given data will be presented in a table-style format for easy reading:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    $url = url(<span class="string">'/invoices/'</span>.<span class="keyword">$this</span>-&gt;invoice-&gt;id);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;success()</div><div class="line">                -&gt;content(<span class="string">'One of your invoices has been paid!'</span>)</div><div class="line">                -&gt;attachment(<span class="function"><span class="keyword">function</span> <span class="params">($attachment)</span> <span class="title">use</span> <span class="params">($url)</span> </span>&#123;</div><div class="line">                    $attachment-&gt;title(<span class="string">'Invoice 1322'</span>, $url)</div><div class="line">                               -&gt;fields([</div><div class="line">                                    <span class="string">'Title'</span> =&gt; <span class="string">'Server Expenses'</span>,</div><div class="line">                                    <span class="string">'Amount'</span> =&gt; <span class="string">'$1,234'</span>,</div><div class="line">                                    <span class="string">'Via'</span> =&gt; <span class="string">'American Express'</span>,</div><div class="line">                                    <span class="string">'Was Overdue'</span> =&gt; <span class="string">':-1:'</span>,</div><div class="line">                                ]);</div><div class="line">                &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The example above will create a Slack message that looks like the following:</p>
<p><img src="https://laravel.com/assets/img/slack-fields-attachment.png"></p>
<h4 id="Markdown-Attachment-Content"><a href="#Markdown-Attachment-Content" class="headerlink" title="Markdown Attachment Content"></a>Markdown Attachment Content</h4><p>If some of your attachment fields contain Markdown, you may use the <code>markdown</code> method to instruct Slack to parse and display the given attachment fields as Markdown formatted text:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Get the Slack representation of the notification.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line"> * <span class="doctag">@return</span> SlackMessage</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toSlack</span><span class="params">($notifiable)</span></span></div><div class="line">&#123;</div><div class="line">    $url = url(<span class="string">'/exceptions/'</span>.<span class="keyword">$this</span>-&gt;exception-&gt;id);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> SlackMessage)</div><div class="line">                -&gt;error()</div><div class="line">                -&gt;content(<span class="string">'Whoops! Something went wrong.'</span>)</div><div class="line">                -&gt;attachment(<span class="function"><span class="keyword">function</span> <span class="params">($attachment)</span> <span class="title">use</span> <span class="params">($url)</span> </span>&#123;</div><div class="line">                    $attachment-&gt;title(<span class="string">'Exception: File Not Found'</span>, $url)</div><div class="line">                               -&gt;content(<span class="string">'File [background.jpg] was *not found*.'</span>)</div><div class="line">                               -&gt;markdown([<span class="string">'title'</span>, <span class="string">'text'</span>]);</div><div class="line">                &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="routing-slack-notifications"></a></p>
<h3 id="Routing-Slack-Notifications"><a href="#Routing-Slack-Notifications" class="headerlink" title="Routing Slack Notifications"></a>Routing Slack Notifications</h3><p>To route Slack notifications to the proper location, define a <code>routeNotificationForSlack</code> method on your notifiable entity. This should return the webhook URL to which the notification should be delivered. Webhook URLs may be generated by adding an “Incoming Webhook” service to your Slack team:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Route notifications for the Slack channel.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> string</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">routeNotificationForSlack</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;slack_webhook_url;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="notification-events"></a></p>
<h2 id="Notification-Events"><a href="#Notification-Events" class="headerlink" title="Notification Events"></a>Notification Events</h2><p>When a notification is sent, the <code>Illuminate\Notifications\Events\NotificationSent</code> event is fired by the notification system. This contains the “notifiable” entity and the notification instance itself. You may register listeners for this event in your <code>EventServiceProvider</code>:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * The event listener mappings for the application.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@var</span> array</div><div class="line"> */</div><div class="line"><span class="keyword">protected</span> $listen = [</div><div class="line">    <span class="string">'Illuminate\Notifications\Events\NotificationSent'</span> =&gt; [</div><div class="line">        <span class="string">'App\Listeners\LogNotification'</span>,</div><div class="line">    ],</div><div class="line">];</div></pre></td></tr></table></figure></p>
<blockquote>
<p>{tip} After registering listeners in your <code>EventServiceProvider</code>, use the <code>event:generate</code> Artisan command to quickly generate listener classes.</p>
</blockquote>
<p>Within an event listener, you may access the <code>notifiable</code>, <code>notification</code>, and <code>channel</code> properties on the event to learn more about the notification recipient or the notification itself:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Handle the event.</div><div class="line"> *</div><div class="line"> * <span class="doctag">@param</span>  NotificationSent  $event</div><div class="line"> * <span class="doctag">@return</span> void</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">handle</span><span class="params">(NotificationSent $event)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// $event-&gt;channel</span></div><div class="line">    <span class="comment">// $event-&gt;notifiable</span></div><div class="line">    <span class="comment">// $event-&gt;notification</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a name="custom-channels"></a></p>
<h2 id="Custom-Channels"><a href="#Custom-Channels" class="headerlink" title="Custom Channels"></a>Custom Channels</h2><p>Laravel ships with a handful of notification channels, but you may want to write your own drivers to deliver notifications via other channels. Laravel makes it simple. To get started, define a class that contains a <code>send</code> method. The method should receive two arguments: a <code>$notifiable</code> and a <code>$notification</code>:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Channels</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notification</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VoiceChannel</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Send the given notification.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line">     * <span class="doctag">@param</span>  \Illuminate\Notifications\Notification  $notification</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span><span class="params">($notifiable, Notification $notification)</span></span></div><div class="line">    &#123;</div><div class="line">        $message = $notification-&gt;toVoice($notifiable);</div><div class="line"></div><div class="line">        <span class="comment">// Send notification to the $notifiable instance...</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Once your notification channel class has been defined, you may simply return the class name from the <code>via</code> method of any of your notifications:<br><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Notifications</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Bus</span>\<span class="title">Queueable</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Channels</span>\<span class="title">VoiceChannel</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Channels</span>\<span class="title">Messages</span>\<span class="title">VoiceMessage</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notification</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Contracts</span>\<span class="title">Queue</span>\<span class="title">ShouldQueue</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvoicePaid</span> <span class="keyword">extends</span> <span class="title">Notification</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">use</span> <span class="title">Queueable</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Get the notification channels.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line">     * <span class="doctag">@return</span> array|string</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span><span class="params">($notifiable)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> [VoiceChannel::class];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Get the voice representation of the notification.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span>  mixed  $notifiable</div><div class="line">     * <span class="doctag">@return</span> VoiceMessage</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toVoice</span><span class="params">($notifiable)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

    

    

    <div class="footer">
      Powered by:
    <!--  <a href="https://github.com/vuejs/vuejs.org/blob/master/src/laravel/5-4/notifications.md" target="_blank">
        Edit this page on Github!
</a>-->
<a href="https://twitter.com/code4mk">@code4mk</a>
    </div>
</div>


                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>

        <!-- search -->
        <link href="//cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/search.css">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>

      <!-- <script>
        [
          '#search-query-nav',
          '#search-query-sidebar'
        ].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          // search index defaults to v2
          var match = window.location.pathname.match(/^\/(v\d+)/)
          var version = match ? match[1] : 'mk'
          docsearch({

            apiKey: '9d7525f5e23afd159b7fc3a65ae4c1f1',
            indexName: 'hellolaravel',
            inputSelector: search-form,
            algoliaOptions: { facetFilters: ["version:" + version]


       <script type="text/javascript"> docsearch({
apiKey: '9d7525f5e23afd159b7fc3a65ae4c1f1',
indexName: 'hellolaravel',
inputSelector: selector,
debug: true // Set debug to true if you want to inspect the dropdown
});
</script> -->

        <!-- fastclick -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
        <script id="dsq-count-scr" src="//hellolaravel.disqus.com/count.js" async></script>

        <script src="//static.getclicky.com/js" type="text/javascript"></script>
        <script type="text/javascript">try{ clicky.init(101038415); }catch(e){}</script>
          <script type="text/javascript" src="https://vuejs-tips.github.io/vuex-cheatsheet/client.001800a6.js"></script>
    </body>
</html>
